<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LCL 31st Birthday - Gold & Charcoal Edition</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        body {
            background-color: #1a1a1a; /* 深灰色背景 */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            overflow: hidden;
        }

        .clock-container {
            position: relative;
            /* 保持大尺寸置中 */
            width: 95vw;
            max-width: 850px; 
            aspect-ratio: 2482 / 3508;
            filter: drop-shadow(0 30px 60px rgba(0,0,0,0.7));
            /* 確保手錶在紙屑上方，不被遮擋 */
            z-index: 10; 
        }

        .layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: contain;
            pointer-events: none;
            transform-origin: center center; 
        }

        .base-face {
            display: block;
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        /* 移至下方的金色質感標題 */
        #birthday-banner {
            position: fixed;
            bottom: 6%; /* 移到畫面下方 */
            text-align: center;
            opacity: 0;
            transition: all 1.5s ease;
            z-index: 15;
            width: 100%;
        }

        #birthday-banner.show {
            opacity: 1;
            transform: translateY(-10px);
        }

        .bday-text, .bday-sub {
            font-family: 'Georgia', serif;
            font-weight: bold;
            font-style: italic;
            /* 金屬漸層效果 */
            background: linear-gradient(to bottom, #cfaf6c 0%, #ffecb3 25%, #d1a95a 50%, #f7e0a3 75%, #b38728 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.8));
            margin: 0;
        }

        .bday-text {
            font-size: 2.2rem;
        }

        .bday-sub {
            font-size: 1.2rem;
            margin-top: 5px;
            letter-spacing: 3px;
            text-transform: uppercase;
        }

        #hour { z-index: 2; }
        #minute { z-index: 3; }
        #second { z-index: 4; }
    </style>
</head>
<body>

    <div id="birthday-banner">
        <h1 class="bday-text">Happy 31st Birthday, LCL!</h1>
        <p class="bday-sub">Born Feb. 5, 1995</p>
    </div>

    <div class="clock-container">
        <img src="face-01.png" class="base-face">
        <img src="hour-01.png" id="hour" class="layer">
        <img src="minute-01.png" id="minute" class="layer">
        <img src="second-01.png" id="second" class="layer">
    </div>

    <script>
        let confettiTriggered = false;

        function updateClock() {
            const now = new Date();
            const ms = now.getMilliseconds();
            const s = now.getSeconds();
            const m = now.getMinutes();
            const h = now.getHours();

            const sDeg = (s * 6) + (ms * 0.006);
            const mDeg = (m * 6) + (s * 0.1);
            const hDeg = (h % 12 * 30) + (m * 0.5);

            document.getElementById('second').style.transform = `rotate(${sDeg}deg)`;
            document.getElementById('minute').style.transform = `rotate(${mDeg}deg)`;
            document.getElementById('hour').style.transform = `rotate(${hDeg}deg)`;

            // 生日自動檢查
            if (now.getMonth() === 1 && now.getDate() === 5) {
                if (!confettiTriggered) {
                    startCelebration();
                    confettiTriggered = true;
                }
            }
        }

        function startCelebration() {
            document.getElementById('birthday-banner').classList.add('show');
            
            // 設定延續 20 秒
            const end = Date.now() + (20 * 1000);
            const goldColors = ['#D4AF37', '#FFD700', '#B8860B', '#F7E7CE', '#996515'];

            (function frame() {
                // 降低 particleCount 並調整 gravity 讓速度變慢
                confetti({
                    particleCount: 1, 
                    angle: 60,
                    spread: 55,
                    origin: { x: 0, y: 0.8 },
                    colors: goldColors,
                    gravity: 0.6, // 預設為 1，調低會讓紙屑落得更慢
                    ticks: 300,   // 增加紙屑存在時間
                    zIndex: 1     // 關鍵：將紙屑層級設低，確保在手錶後方
                });
                confetti({
                    particleCount: 1,
                    angle: 120,
                    spread: 55,
                    origin: { x: 1, y: 0.8 },
                    colors: goldColors,
                    gravity: 0.6,
                    ticks: 300,
                    zIndex: 1
                });

                if (Date.now() < end) {
                    requestAnimationFrame(frame);
                }
            }());
        }

        setInterval(updateClock, 50);
        updateClock();
    </script>
</body>
</html>
